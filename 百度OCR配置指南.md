# 百度OCR配置指南

## 一、注册百度AI开放平台

### 1. 访问官网
- 打开浏览器访问：https://ai.baidu.com/
- 点击右上角"注册"按钮

### 2. 选择注册方式
推荐使用百度账号注册：
- 已有百度账号：直接登录
- 无百度账号：点击"注册百度账号"

### 3. 完善账户信息
- 填写手机号、邮箱等基本信息
- 设置登录密码
- 完成手机号验证

### 4. 实名认证（重要）
- 个人用户：上传身份证正反面
- 企业用户：上传营业执照
- 认证通过后才能使用付费服务

## 二、创建应用

### 1. 登录控制台
- 注册完成后自动进入AI开放平台控制台
- 或访问：https://console.bce.baidu.com/ai/

### 2. 创建应用
1. 点击"创建应用"按钮
2. 填写应用信息：
   - **应用名称**：有期-OCR识别
   - **应用描述**：家庭物品管理系统的OCR文字识别功能
   - **应用类型**：选择"Web应用"
   - **行业领域**：选择"其他"

### 3. 选择产品
在应用创建页面，选择以下产品：
- ✅ 通用文字识别（标准版）
- ✅ 通用文字识别（高精度版）
- ✅ 手写文字识别（可选）

## 三、获取API密钥

### 1. 查看应用信息
创建应用后，在应用列表中找到刚创建的应用

### 2. 获取密钥信息
点击应用名称进入详情页，可以看到：
- **App ID**：应用唯一标识（如：12345678）
- **API Key**：API访问密钥（如：abcdefghijklmnopqrstuvwxyz）
- **Secret Key**：安全密钥（如：abcdefghijklmnopqrstuvwxyz123456）

### 3. 复制密钥
请妥善保存这些信息，后续配置需要使用

## 四、配置安全域名

### 1. 开发环境配置
在应用详情页的"安全设置"中：
- 添加域名：`localhost`
- 添加域名：`127.0.0.1`

### 2. 生产环境配置
部署到生产环境后，需要添加：
- 您的实际域名（如：`youqi-app.com`）
- 如果有多个域名，都需要添加

### 3. 网络白名单设置（企业环境）
如果您的应用部署在企业网络环境中，需要将以下域名添加到网络白名单：

#### 文字识别接口域名
```
aip.baidubce.com
```

#### 配置步骤
1. **获取IP地址**：
   ```bash
   ping aip.baidubce.com
   ```

2. **防火墙配置**：
   - 将获取的IP地址添加到防火墙白名单
   - 开放HTTPS的443端口
   - 配置防火墙规则允许访问

3. **私有化部署端口**（如需要）：
   - 鉴权服务器与应用服务器分离：开放8443端口
   - 多台鉴权服务器之间：开放8443、7091、7092端口

#### 注意事项
- 由于服务器采用集群策略，建议直接使用域名而非固定IP
- 避免IP动态变更导致访问失败
- 定期检查域名解析是否正常

### 3. 网络白名单设置（企业环境）
如果您的应用部署在企业网络环境中，需要将以下域名添加到网络白名单：

#### 文字识别接口域名
```
aip.baidubce.com
```

#### 配置步骤
1. **获取IP地址**：
   ```bash
   ping aip.baidubce.com
   ```

2. **防火墙配置**：
   - 将获取的IP地址添加到防火墙白名单
   - 开放HTTPS的443端口
   - 配置防火墙规则允许访问

3. **私有化部署端口**（如需要）：
   - 鉴权服务器与应用服务器分离：开放8443端口
   - 多台鉴权服务器之间：开放8443、7091、7092端口

#### 注意事项
- 由于服务器采用集群策略，建议直接使用域名而非固定IP
- 避免IP动态变更导致访问失败
- 定期检查域名解析是否正常

## 五、配置到项目

### 1. 更新配置文件
打开 `src/services/baiduOCRService.js` 文件，更新配置：

```javascript
const BAIDU_OCR_CONFIG = {
  APP_ID: '7008056',                    // 您的App ID
  API_KEY: 'eIKgfcznPiVt64bIlQfmroDQ',  // 您的API Key
  SECRET_KEY: 'eSHTWnCnSTxIOXRyddln1Xm7LMRdQfWF', // 您的Secret Key
  ACCESS_TOKEN: null,
  TOKEN_EXPIRE_TIME: 0
};
```

### 2. 测试配置
在浏览器控制台中运行：
```javascript
// 检查配置是否正确
import { checkOCRConfig } from './src/services/baiduOCRService';
console.log(checkOCRConfig());
```

### 3. 访问测试页面
启动开发服务器后，访问：
- OCR测试页面：http://localhost:3000/ocr-test
- 添加物品页面：http://localhost:3000/add

## 六、免费额度和计费

### 免费额度
- **个人认证**：1,000次/月
- **企业认证**：2,000次/月

### 计费规则
超出免费额度后：
- 标准版：0.005元/次
- 高精度版：0.01元/次
- 手写识别：0.01元/次

### 费用预估
对于内测20个用户：
- 每人每月使用50次OCR
- 总计1000次/月
- 在免费额度范围内，无需付费

## 七、常见问题

### Q1: 注册时提示手机号已被使用
A: 该手机号可能已被其他百度账号使用，请：
- 使用其他手机号注册
- 或使用邮箱注册方式

### Q2: 实名认证失败
A: 请确保：
- 身份证照片清晰完整
- 信息填写正确
- 身份证在有效期内

### Q3: API调用失败
A: 检查以下几点：
- API密钥是否正确
- 安全域名是否配置
- 网络连接是否正常
- 是否超出免费额度
- 企业网络是否已添加域名白名单

### Q4: 企业网络环境访问失败
A: 请检查：
- 防火墙是否已添加 `aip.baidubce.com` 域名
- 443端口是否已开放
- 网络代理设置是否正确
- 企业网络是否已添加域名白名单

### Q4: 企业网络环境访问失败
A: 请检查：
- 防火墙是否已添加 `aip.baidubce.com` 域名
- 443端口是否已开放
- 网络代理设置是否正确

### Q5: 如何查看使用量
A: 在控制台可以查看：
- 每日调用次数
- 剩余免费额度
- 计费情况

## 八、安全注意事项

### 1. 密钥安全
- 不要将密钥提交到公开的代码仓库
- 生产环境建议使用环境变量
- 定期更换密钥

### 2. 域名安全
- 只添加必要的域名
- 定期检查域名列表
- 删除不再使用的域名

### 3. 网络安全
- 企业环境需要配置网络白名单
- 使用HTTPS协议确保传输安全
- 定期检查网络连接状态

### 4. 使用限制
- 遵守百度AI开放平台的使用条款
- 不要用于违法用途
- 合理使用API，避免恶意调用

## 九、技术支持

### 官方文档
- 百度AI开放平台文档：https://ai.baidu.com/ai-doc/
- 文字识别API文档：https://ai.baidu.com/ai-doc/OCR/

### 联系方式
- 技术支持：https://ai.baidu.com/ai-doc/REFERENCE/Ck3dwjhhu
- 社区论坛：https://ai.baidu.com/forum/

---

**配置完成时间**：2025年8月8日  
**配置状态**：✅ 已完成  
**下一步**：测试OCR功能 